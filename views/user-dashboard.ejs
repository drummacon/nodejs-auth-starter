<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="csrf-token" content="<%= csrfToken %>">
  <meta name="description" content="User Dashboard">
  <title>Account | Home</title>
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/styles.css">
  <script type="module" src="/js/uDashboard.js" defer></script>
</head>

<body>
  <div class="dashboard">
    <div class="header">
      <div class="welcome">
        Welcome, <span><%= username %>!</span>
      </div>
      <div class="header-actions">
        <button id="logout-button" class="logout-button">
          <span class="button-content">Logout</span>
        </button>
      </div>
    </div>

    <div id="dashboard-section">
      <div class="table-container">
        <table class="dashboard-table">
          <thead>
            <tr>
              <th>Account Information</th>
              <th>Value</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <span id="username-display" class="setting-value readonly"><%= username %></span>
              </td>
              <td>
                <span id="username-value"><%= username %></span>
              </td>
              <td>
                <button class="icon-button edit-button" id="edit-username">
                  Edit
                </button>
              </td>
            </tr>
            <tr id="username-edit-row" class="edit-row">
              <td colspan="3">
                <input type="text" id="new-username" placeholder="New Username" value="<%= username %>">
                <button id="save-username" class="button">Save</button>
              </td>
            </tr>
            <tr>
              <td>
                <span id="email-display" class="setting-value readonly"><%= email %></span>
              </td>
              <td>
                <span id="email-value"><%= email %></span>
              </td>
              <td>
                <button class="icon-button edit-button" id="edit-email">
                  Edit
                </button>
              </td>
            </tr>
            <tr id="email-edit-row" class="edit-row">
              <td colspan="3">
                <input type="email" id="new-email" placeholder="New Email" value="<%= email %>">
                <button id="save-email" class="button">Save</button>
              </td>
            </tr>
            <tr>
              <td>
                <span id="password-display" class="setting-value readonly">********</span>
              </td>
              <td>
                <span id="password-value">********</span>
              </td>
              <td>
                <button class="icon-button edit-button" id="edit-password">
                  Edit
                </button>
              </td>
            </tr>
            <tr id="password-edit-row" class="edit-row">
              <td colspan="3">
                <input type="password" id="new-password" placeholder="New Password">
                <input type="password" id="confirm-password" placeholder="Confirm New Password">
                <button id="save-password" class="button">Save</button>
              </td>
            </tr>
            <tr>
              <td>Dashboard URL</td>
              <td><%= dashboardToken %></td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>

</html>
