<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="csrf-token" content="<%= csrfToken %>" />
    <meta name="description" content="Manage your account settings" />
    <title>Account Settings</title>
    <link rel="stylesheet" href="/css/style.css" />
    <script src="/js/theme.js"></script>
    <script src="/js/uDashboard.js" defer></script>
    <script src="/js/bundle.js" defer></script>
  </head>
  <body>
    <div class="dashboard">
      <div class="header">
        <div class="welcome">
          <h4 class="text-div">Account Settings</h4>
        </div>
        <div class="icon-bar">
          <button class="theme-toggle icon-button" id="theme-toggle" title="Toggle theme">
            <!-- Sun icon - shows in dark mode -->
            <svg class="colorFill sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
              <path d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm5.657-8.157a.75.75 0 0 1 0 1.061l-1.061 1.06a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.06-1.06a.75.75 0 0 1 1.06 0Zm-9.193 9.193a.75.75 0 0 1 0 1.06l-1.06 1.061a.75.75 0 1 1-1.061-1.06l1.06-1.061a.75.75 0 0 1 1.061 0ZM8 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0ZM3 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 3 8Zm13 0a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 16 8Zm-8 5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 13Zm3.536-1.464a.75.75 0 0 1 1.06 0l1.061 1.06a.75.75 0 0 1-1.06 1.061l-1.061-1.06a.75.75 0 0 1 0-1.061ZM2.343 2.343a.75.75 0 0 1 1.061 0l1.06 1.061a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.06-1.06a.75.75 0 0 1 0-1.06Z"></path>
            </svg>
            <!-- Moon icon - shows in light mode -->
            <svg class="colorFill moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
              <path d="M9.598 1.591a.749.749 0 0 1 .785-.175 7.001 7.001 0 1 1-8.967 8.967.75.75 0 0 1 .961-.96 5.5 5.5 0 0 0 7.046-7.046.75.75 0 0 1 .175-.786Zm1.616 1.945a7 7 0 0 1-7.678 7.678 5.499 5.499 0 1 0 7.678-7.678Z"></path>
            </svg>
          </button>
          <a id="logout-button" class="github-link" title="Sign out">
            <div class="github-button">
              <svg class="colorFill" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
                <path d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 0 1 0 1.5h-2.5a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 0 1.5h-2.5A1.75 1.75 0 0 1 2 13.25Zm10.44 4.5-1.97-1.97a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.97-1.97H6.75a.75.75 0 0 1 0-1.5Z"></path>
              </svg>
              Sign out
            </div>
          </a>
        </div>
      </div>

      <div class="settings-table">
        <table>
          <tr data-setting="username">
            <td class="setting-label">Username</td>
            <td class="setting-value">
              <span class="display-value"><%= username %></span>
              <input type="text" class="edit-input hidden" value="<%= username %>" />
            </td>
            <td class="setting-edit">
              <button class="edit-button" data-setting="username" title="Edit username">
                <svg class="colorFill" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="12" height="12">
                  <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Z"></path>
                </svg>
              </button>
            </td>
          </tr>
          <tr data-setting="password">
            <td class="setting-label">Password</td>
            <td class="setting-value">
              <span class="display-value">••••••••</span>
              <input type="password" class="edit-input hidden" placeholder="New password" />
              <input type="password" class="edit-input hidden" placeholder="Confirm password" />
            </td>
            <td class="setting-edit">
              <button class="edit-button" data-setting="password" title="Edit password">
                <svg class="colorFill" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="12" height="12">
                  <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Z"></path>
                </svg>
              </button>
            </td>
          </tr>
          <tr data-setting="email">
            <td class="setting-label">Email</td>
            <td class="setting-value">
              <span class="display-value"><%= email %></span>
              <input type="email" class="edit-input hidden" value="<%= email %>" />
            </td>
            <td class="setting-edit">
              <button class="edit-button" data-setting="email" title="Edit email">
                <svg class="colorFill" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="12" height="12">
                  <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Z"></path>
                </svg>
              </button>
            </td>
          </tr>
          <tr>
            <td class="setting-label">Profile URL</td>
            <td class="setting-value" colspan="2"><%= dashboardToken %></td>
          </tr>
        </table>
      </div>

      <div class="status-bar">
        <span id="user-info">Logged in as <strong><%= username %></strong></span>
        <span id="datetime" class="sub-label">2025-03-13 12:30:21</span>
      </div>
    </div>
  </body>
</html>
